---
layout: post
title: "네트워크 2일 차"
img: # Add image post (optional)
date: 2018-05-04 12:55:00 +0300
description: You’ll find this post in your `_posts` directory. Go ahead and edit it and re-build the site to see your changes. # Add post description (optional)
tag: [Network]
---


>TCP/IP

우리가 사용하는 인터넷의 프로토콜, 즉 공용어로서 각각의 네트워크에 접속되는 호스트들은 고유의 주소를 가지고 있어서 자신이 속해 있는 네트워크 뿐만 아니라 다른 네트워크에 연결된 호스트들과도 서로 데이터를 주고받을 수 있다. 이 고유주소는 Internet Network Information Center에서 배부하는 것이 특징.

>IP

IP주소는 이 세상에서 나만 가지고 있는 인테넛 고유번호다. 일반적으로 같은 IP가 동시에 상요되면 IP주소가 충돌하는 경우가 발생한다.
하지만 요즘은 같은 IP를 사용하는 경우가 있는데 그것은, IP주소의 대부분의 사용으로 IP주소가 부족해져서 내부 네트워크에서는 비공인 IP주소를 사용하고 인터넷에 들어갈 때만 공인 주소를 필요로하는 방식을 이용한다(Network Address Translation)이나 동일한 IP주소를 가지고 여러명이 접속하면서 포트넘버만 바꾸는 (PAT)도 사용.
어찌되었든, 인터넷을 사용하기 위해서는 오직 나만이 가진 IP주소가 필요하다. 이 IP를 관리하고 배부하는 곳이 NIC(Network Information Center)다.

ex) IP    -  >    192.168.1.100

IP는 10진수 4개로 구성되어있다. 하지만 이것은 실제로 IP는 2진수로 만들어져있고 각각은 0에서 255까지 가능하다. 따라서 결국 IP는 2진수 32개로 이루어져 있습니다.

컴퓨터는 우리가 일상적으로 사용하는 십진수 대신 이진수를 사용한다. 전원 켜졌을때 ON 꺼졌을때 OFF. 2가지경우로만 생각이 가능하기 때문이다.


그래서 IP로 가능한 주소의 개수는 2의 32승이다. 약42억개 쯤인데, 이것도 지금 6%만 남아있다고한다. 그래서 다른 체제를 찾고 있 는데 그것이 IPv6로 128개의 이진수로 이루어져 있다.

TCP/IP의 규칙에는 이진수가 많이 포함되어있다. 


>네트워크 장비

랜카드: Network Interface Card - 유저의 데이터를 케이블에 실어서 허브나 스위치 혹은 라우터 등으로 전달해주고 자신의 데이터를 CPU에 전달한다.

지금은 PC가 알아서 랜카드를 인식하고 프로그램도 설치한뒤 네트워크에 연결해 주는 기능인 Plug&Play를 지원한다. 
랜카드의 모든 세팅은 점퍼 형식으로 되어있다. 그래서 랜카드 점퍼를 하나씩 조정하는 IRQ 넘버의 세팅이나 Base Memory 등의 세팅은 꽤하 어렵다.

데스크탑용 랜카드와 노트북용 랜카드인 PCMCIA 방식이있다. 하지만 하는 일은 모두 같다. 다만 PC연결 시 접속하는 방법이 다르다.

데스크탑용 랜카드는 PC버스 방식이 3가지로 나눠져 있다
	1. PCI
	2. ISA
	3. EISA
PC버스 방식과 랜카드 버스 방식이 같아야한다. 

속도에 따른 구분 :
	크게 10Mbps, 100Mbps, 1기가 랜카드 등이 있다. 100Mbps가 요즘 일반적인데 그 이유는 역시 네트워크상에서 날아다니는 데이터 양이 그만큼 커진 것을 의미한다. 
	하지만 실제로는 차이가 있는데 그 이유는 Seven Layer에서 본 데이터의 앞뒤로 붙는 것들로 인해 이론적인 속도는 나오지않는다. 

케이블의 종류에 따른 구분:
	TP포트
	BNC
	AUI
	광케이블


>HUB-멀티포트 리피터(포트로 들어온 데이터를 나머지 모든 포트로 뿌려줌.)

-직사각형 상자로 구멍의 개수에 따라 몇 포트 허브다라고 이야기하고 그 포트 개수가 연결할 수 있는 PC개수다.
-랜카드가 설치된 PC들은 케이블을 타고 이 허브에 여결됩니다. 같은 허브의 PC들은 서로 통신도 가능.
-허브는 네트워크에 없으면 안되는 기본 장비.
-요즘은 스위치를 더 자주 이용하여 허브를 보기 힘들다
-랜카드, 케이블, 허브만 있으면 내부에서 허브에 있는 PC들끼리는 서로 다 통신이 가능.
-네트워크에서 데이터 전송시 케이블에 따라서 전송 거리에 제약.
-UTP는 최대 100m, 즉 장비와 장비 사이의 거리가 100m이상가면 통신 불가. 그렇다면 150m떨어진 곳을 연결하고 싶다면, 이제 사용하는 것이 리피터다.한쪽에서 받은 데이터를 다른쪽으로 전달.



PC에서 데이터가 허브를 통해 전송될때 데이터를 보낸 1번 포트를 제외한 나머지에 그 데이터가 뿌려진다. 그렇지만 그 포트들 중에서도 대상이 아닌 PC들은 자신에게 온 것이 아닌 것을 알고 무시해버립니다. 이것이 가능한 것이 랜카드입니다.
랜카드는 들어온 프레임의 목적지 맥 어드레스를 보고 나서 자신의 것이 아니면 버리는 것. 하지만 데이터의 대상의 PC는 랜카드가 CPU에게 인터럽트를 걸어서 데이터 처리 요청한다.
그런데 이 허브는 보통 이더넷인만큼, CSMA/CD를 적용받아 PC가 허브에 데이터를 보내는데 다른 PC가 데이터를 보내려고하면 콜리젼이 발생한다. 그래서 이것을 같은 Collision domain안에 있다고 하고 이 의미는 그 허브에 속해있는 PC가 통신을 하면, 다른 모든 PC는 통신이 불가능하고 , 하나의 PC에서 콜리젼이 발생하면 모든 PC가 영향을 받는다.
>> 허브의 한계.

1. 같은 허브에 연결된 PC들을 같은 Collision Domain안에 있다고 한다. 그래서 어느 한순간에는 한 PC만이 데이터를 보낼 수 있다. 이 기능을 수행하는 허브를 Shared Hub라고 합니다.
 10Mbps의 속도를 그 허브에 연결된 PC들이 공유. 20대의 PC가 있다면 10Mbps를 20대가 나눠쓰는 것이다. 하지만 네트워크 트래픽이 많은 경우를 제외하면 실제로는 계속 날아다니는 것이 아니기 때문에 Shared Hub의 속도도 느리지 않습니다. 만약 화상회의나 멀티미디어 등을 모든 PC들이 계속 사용하다면? 랜카드, 케이블, 허브를 100Mbps로 바꾸었다고 친다면, 조금더 빨라지겠지만 이 허브 역시 어느 한 순간에는 한 PC만이 네트워크 상에 데이터를 보낼 수 있다.

2. 콜리젼이 발생하면 그 허브에 연결된 모든 PC가 영향을 받는다. 허브 하나를 추가하여 허브 2개가 연결되어있고, 그 두 대의 허브는 하나의 콜리젼 도메인에 속하기 때문에 콜리젼이 자주 발생할 수 밖에 없다.

>허브의 종류 : 인텔리전트 허브, 더미 허브, 세미인텔리전트

인텔리전트 허브(지능형 허브)-> 네트워크 관리 시스템(NMS) 상에서 모든 데이터를 분석할 수 있을 뿐 아니라 제어도 가능. 다른 말로, 앉아서 멀리있는 허브의 동작을 감시하고 조정가능. 비싸지만 대형 네트워크에서나 필요한 기능. 다른 기능으로는 예로 한 PC에서 이상한 데이터를 끊임없이 보낸다고 가정하면, 결국 콜리젼이 발생하여 다른 모든 PC들이 통신이 불가능해진다, 그런데 인텔리전트 허브는 그 문제의 포트를 찾아 Isolation이 가능해서, 그 포트를 방출해버린다. 따라서 그 PC는 통신이 불가능하지만, 나머지는 정상 작동을 하게된다. 그 분리된 포트는 램프로 표시되어 어떤 PC인지 조치가 가능(Auto Partition). 요즘은 더미 허브에도 존재.

세미인텔리전트 허브-> 혼자있을때는 더미 허브로 동작하지만, 인텔리전트랑 연결되었을때는 인텔리전트 허브의 기능을 수행가능하다.

주의해야할 것은 콜리전 도메인이 커지는 것이다. 콜리전 도메인이 커질수록, 영향을 받는 PC가 많아지고 통신의 속도가 점점 떨어지기 때문.

이 콜리전 도메인을 나눠주는 기능을 가진 장비가 브릿지 or 스위치다.   예전: 브릿지 -> 현재: 스위치

예) 1번 PC->2번 PC 통신하는 중에 3번 PC->4번 PC도 서로 데이터 통신이 가능. 이를 포트별로 콜리전 도메인이 나누어져있다고 한다.
스위치는 각각의 포트에 연결된 PC가 그 스위치를 속도를 갖는다. 그래서 속도에서 우수하고, 데이터처리도 우수하면서 전송 에러도 복구해주는 다양한 기능을 지닌다.
브릿지와 허브는 콜리전 도메인 사이를 반으로 나누고 중간에 다리를 놓습니다.

브릿지가 없으면, 이더넷의 CSMA/CD 특성으로 모든 PC에게 보내지는 데이터가 브릿지가 있으면, 브짓지가 관리하는 장부인 맥 어드레스 테이블을 보고, 통신시 필요하지않으면 프레임이 굳이 다리를 건너지않게 합니다.

>브릿지와 스위치의 기능

1. Learning
2. Flooding
3. Forwarding
4. Filtering
5. Aging


>> Learning : 브릿지나 스위치는 자신의 포트에 연결된 어떤 PC 'A'가 통신을 위해서 프레임을 내보내면 그 PC의 맥 어드레스를 읽어서 자신의 맥 어드레스 테이블에 저장합니다. 그리고 나중에 어떤 PC가 'A'에 통신할 경우에 자신의 브릿지 테이블을 참고하여 다리를 건널지 말지를 결정합니다.
예) 세크먼트 E0과 E1 각각에 PC들이 연결되어 있습니다. E0의 맥 어듯












